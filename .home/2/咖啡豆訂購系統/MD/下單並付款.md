<h1 align='center'>UC-下單並付款</h1>

| 欄位         | 內容 |
|--------------|------|
| UseCase ID   | 11 |
| Actor        | 顧客 |
| 描述         | 顧客選擇餐點、填寫送餐地址與聯絡資訊，並使用線上支付方式完成付款。 |

---

## 正常程序
```text
1. 顧客瀏覽菜單，選擇餐點並添加到購物車。
2. 顧客檢視購物車內容，確認餐點及數量。
3. 顧客填寫送餐地址及聯絡電話。
4. 顧客選擇線上支付方式（例如：信用卡、PayPal）。
5. 系統導引顧客至支付平台進行付款。
6. 付款成功後，系統顯示訂單編號及訂單明細。
7. 系統發送訂單確認郵件至顧客的電子郵件地址。
8. 系統將訂單資訊傳送至廚房及送餐部門。
```

## 例外程序
```text
1. 選擇的餐點缺貨：系統顯示缺貨訊息，顧客可選擇替換餐點或移除該餐點。
2. 支付失敗：系統顯示支付失敗訊息，並提示顧客重新嘗試付款或選擇其他支付方式。錯誤訊息需包含錯誤代碼及建議解決方案。
3. 網路連線中斷：系統顯示網路錯誤訊息，建議顧客檢查網路連線後重新嘗試。
4. 送餐地址不完整或錯誤：系統提示顧客填寫完整的送餐地址。
5. 顧客填寫的聯絡資訊錯誤：系統提示顧客確認聯絡資訊正確性。
6. 系統錯誤：系統顯示系統錯誤訊息，並提供聯繫客服的途徑。
```

## 前置條件
```text
顧客已註冊帳號或以訪客身份登入，且已選擇餐點並填寫必要的送餐地址及聯絡資訊。

```

## 後置條件
```text
訂單已成功建立，並已完成付款；系統已發送訂單確認郵件給顧客；廚房及送餐部門已收到訂單資訊。

```

---

## 正常程序(三段式)
| 步驟 | 類型 | 說明 |
|------|------|------|
| 1 | Request | 顧客瀏覽菜單並選擇餐點添加到購物車 |
| 2 | Process | 系統更新購物車內容 |
| 3 | Response | 系統顯示更新後的購物車內容 |
| 4 | Request | 顧客檢視購物車內容並確認餐點及數量 |
| 5 | Process | 系統驗證購物車內容 |
| 6 | Response | 系統顯示購物車內容確認畫面 |
| 7 | Request | 顧客填寫送餐地址及聯絡電話 |
| 8 | Process | 系統驗證地址及電話資訊 |
| 9 | Response | 系統顯示地址及電話資訊確認畫面或錯誤訊息 |
| 10 | Request | 顧客選擇線上支付方式 |
| 11 | Process | 系統根據選擇的支付方式導引至支付平台 |
| 12 | Response | 系統跳轉至支付平台 |
| 13 | Request | 顧客在支付平台完成付款 |
| 14 | Process | 系統接收支付平台的付款結果 |
| 15 | Response | 系統顯示付款成功訊息及訂單編號及訂單明細 |
| 16 | Process | 系統發送訂單確認郵件至顧客電子郵件地址 |
| 17 | Response | 系統記錄郵件發送結果 |
| 18 | Process | 系統將訂單資訊傳送至廚房及送餐部門 |
| 19 | Response | 系統記錄訂單資訊傳送結果 |

## 例外程序(三段式)
| 步驟 | 類型 | 說明 |
|------|------|------|
| 1 | Request | 顧客選擇缺貨餐點 |
| 2 | Process | 系統判斷餐點庫存 |
| 3 | Response | 系統顯示缺貨訊息，提供替換或移除選項 |
| 4 | Request | 顧客選擇支付方式並提交付款 |
| 5 | Process | 系統進行支付處理 |
| 6 | Response | 系統顯示支付成功或失敗訊息，失敗訊息包含錯誤代碼及建議方案 |
| 7 | Request | 顧客嘗試下單 |
| 8 | Process | 系統偵測網路連線狀態 |
| 9 | Response | 系統顯示網路錯誤訊息，建議檢查網路連線後重新嘗試 |
| 10 | Request | 顧客提交訂單 |
| 11 | Process | 系統驗證送餐地址完整性 |
| 12 | Response | 系統提示顧客填寫完整送餐地址或顯示地址錯誤訊息 |
| 13 | Request | 顧客提交訂單 |
| 14 | Process | 系統驗證聯絡資訊正確性 |
| 15 | Response | 系統提示顧客確認聯絡資訊正確性 |
| 16 | Request | 顧客進行任何操作 |
| 17 | Process | 系統發生錯誤 |
| 18 | Response | 系統顯示系統錯誤訊息，提供聯繫客服途徑 |
